var UIUserConfig={createNew:function(){function t(){e.dataTable({destroy:!0,ajax:function(t,a,l){$.ajax({type:"POST",url:i,cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(l){var e={};e.draw=t.draw,e.recordsTotal=l.recordsTotal,e.recordsFiltered=l.recordsFiltered,e.data=l.data,a(e)}})},columns:m})}var a={},l=$("#ui_body"),e=void 0,s=void 0,o=void 0,r=void 0,c=void 0,i="user-all.zc",d="user-add.zc",n="user-del.zc",m=[{data:"name"},{data:"type"},{data:null,className:"center",defaultContent:'<a id="delrow" href="#"><i class="fa fa-trash-o"></i>删除</a>'}];return a.load=function(){l.html('<div class="col-md-12 col-sm-12 col-xs-12">                <div class="x_panel">                <div class="x_title">                    <h2>总览 <small>用户</small></h2>                    <div class="clearfix"></div>                </div>                <div class="x_content">                    <p class="text-muted font-13 m-b-30">                    功能描述：此处展示了目前所有的用户信息，您可通过该页面进行删除操作。                    </p>                    <table id="table_user" class="table table-striped table-bordered">                    <thead>                        <tr>                        <th>用户名称</th>                        <th>用户角色</th>                        <th>操作</th>                        </tr>                    </thead>                    <tbody>                    </tbody>                    </table>                </div>                </div>            </div>            <div class="col-md-12 col-sm-12 col-xs-12">                <div class="x_panel">                    <div class="x_title">                        <h2>新增 <small>用户</small></h2>                        <div class="clearfix"></div>                    </div>                    <div class="x_content">                        <p class="text-muted font-13 m-b-30">                            功能描述：您可通过该页面新增用户。                        </p>                        <div class="form-horizontal form-label-left">                            <div class="form-group">                            <label class="control-label col-md-1 col-sm-1 col-xs-12">用户名称</label>                            <div class="col-md-3 col-sm-3 col-xs-12">                                <input id="input_user_name" type="text" class="form-control" placeholder="">                            </div>                            <label class="control-label col-md-1 col-sm-1 col-xs-12">登陆密码</label>                            <div class="col-md-3 col-sm-3 col-xs-12">                                <input id="input_user_pw" type="text" class="form-control" placeholder="">                            </div>                            <label class="control-label col-md-1 col-sm-1 col-xs-12">用户角色</label>                            <div class="col-md-3 col-sm-3 col-xs-12">                                <select id="select_user_type" class="form-control">                                <option>员工</option>                                <option>管理员</option>                                </select>                            </div>                            </div>                            <div class="ln_solid"></div>                            <div class="form-group">                            <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-1">                                <button id="submit_adduser" class="btn btn-primary">新增</button>                                </div>                            </div>                        </div>                    </div>                </div>            </div>'),e=$("#table_user"),s=$("#submit_adduser"),o=$("#input_user_name"),r=$("#input_user_pw"),c=$("#select_user_type"),s.on("click",function(){var a;if(isNull(o.val().trim()))toastr.error("新增用户名不能为空！");else if(isNull(r.val().trim()))toastr.error("新增用户密码不能为空！");else{var l=c.val().trim();if("员工"==l)a={name:o.val().trim(),pw:r.val().trim(),type:0};else{if("管理员"!=l)return void toastr.error("请选择用户角色！");a={name:o.val().trim(),pw:r.val().trim(),type:1}}$.ajax({type:"POST",url:d,contentType:"application/json;charset=utf-8",data:JSON.stringify(a),dataType:"json",success:function(a){0==a.ok?(toastr.success("用户["+o.val().trim()+"]添加成功"),t(),o.val(""),r.val("")):toastr.error("用户["+o.val().trim()+"]添加失败,"+a.errorinfo)},error:function(){toastr.error("用户添加失败,请检查服务器及网络后重试！")}})}}),e.on("click","a#delrow",function(a){a.preventDefault;var l=e.DataTable().row($(this).parents("tr")).data(),s="确定要删除用户["+l.name+"]吗?";swal({title:"提示",text:s,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定删除",cancelButtonText:"取消"},function(a){if(a){var e={name:l.name};$.ajax({url:n,type:"POST",dataType:"json",data:JSON.stringify(e),success:function(a){0==a.ok?(toastr.success("用户["+l.name+"]删除成功"),t()):toastr.error("用户["+l.name+"]删除失败,"+a.errorinfo)},error:function(){toastr.error("用户删除失败,请检查服务器及网络后重试！")}})}})}),t()},a}},g_oUserConfig=UIUserConfig.createNew();