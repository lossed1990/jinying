var UIBoxCalculate={createNew:function(){function G(){x=$("#submit_count");y=$("#submit_addsource");z=$("#select_product_type");A=$("#select_sourceuser_type");g=$("#select_source_type");m=$("#label_press_type");f=$("#select_press_type");k=$("#tab_part_type");l=$("#tab_part_content");n=$("#selectpart_table");h=$("#selectsource_table");p=$("#input_len");q=$("#input_width");r=$("#input_height");t=$("#input_count");B=$("#check_is_film");C=$("#check_is_press");u=$("#input_len_x");v=$("#input_width_x");
w=$("#input_height_x");D=$("#check_is_tangjin");$("#check_is_press").on("ifChecked",function(a){m.show();f.show()}).on("ifUnchecked",function(a){m.hide();f.hide()});$(".check_green").iCheck({checkboxClass:"icheckbox_flat-green"});$(".icheckbox_flat-green").css("margin-top","8px");e.length=0;c.length=0}function H(){$(".check_aero").iCheck({checkboxClass:"icheckbox_flat-aero"});$(".check_aero").on("ifChecked",function(a){var b=[];b.push(a.target.name);b.push(a.target.alt);e.push(b);n.DataTable({destroy:!0,
data:e})}).on("ifUnchecked",function(a){for(var b=0;b<e.length;b++)if(e[b][0]==a.target.name&&e[b][1]==a.target.alt){e.splice(b,1);break}n.DataTable({destroy:!0,data:e})})}function I(){$.ajax({type:"POST",url:"sourcetype-all.zc",cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(a){if(0==a.data.length)g.html(""),toastr.error("\u6682\u672a\u914d\u7f6e\u5236\u4f5c\u6750\u8d28\u4fe1\u606f\uff0c\u8bf7\u524d\u5f80\u914d\u7f6e\uff01");else{for(var b="",d=0;d<a.data.length;d++)b+=
"<option>"+a.data[d].name+"</option>";g.html(b)}},error:function(){g.html("");toastr.error("\u83b7\u53d6\u5236\u4f5c\u6750\u8d28\u4fe1\u606f\u5931\u8d25,\u8bf7\u5237\u65b0\u91cd\u8bd5\uff01")}})}function J(){$.ajax({type:"POST",url:"presstype-all.zc",cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(a){if(0==a.data.length)f.html(""),toastr.error("\u6682\u672a\u914d\u7f6e\u5370\u5237\u65b9\u5f0f\u4fe1\u606f\uff0c\u8bf7\u524d\u5f80\u914d\u7f6e\uff01");else{for(var b="",
d=0;d<a.data.length;d++)b+="<option>"+a.data[d].name+"</option>";f.html(b)}},error:function(){f.html("");toastr.error("\u83b7\u53d6\u5370\u5237\u65b9\u5f0f\u4fe1\u606f\u5931\u8d25,\u8bf7\u5237\u65b0\u91cd\u8bd5\uff01")}})}function K(){$.ajax({type:"POST",url:"parttype-all.zc",cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(a){if(0==a.data.length)k.html(""),l.html(""),toastr.error("\u6682\u672a\u914d\u7f6e\u914d\u4ef6\u79cd\u7c7b\u4fe1\u606f\uff0c\u8bf7\u524d\u5f80\u914d\u7f6e\uff01");
else{for(var b="",d="",c=0;c<a.data.length;c++){if(0==c)var e="<li class='active'><a href='#"+a.data[c].name+"' data-toggle='tab'>"+a.data[c].name+"</a></li>",f="<div class='tab-pane active' id='"+a.data[c].name+"'></div>";else e="<li><a href='#"+a.data[c].name+"' data-toggle='tab'>"+a.data[c].name+"</a></li>",f="<div class='tab-pane' id='"+a.data[c].name+"'></div>";b+=e;d+=f}k.html(b);l.html(d);$(".nav-pills, .nav-tabs").tabdrop()}},error:function(){k.html("");l.html("");toastr.error("\u83b7\u53d6\u914d\u4ef6\u79cd\u7c7b\u4fe1\u606f\u5931\u8d25,\u8bf7\u5237\u65b0\u91cd\u8bd5\uff01")}})}
function L(){$.ajax({type:"POST",url:"part-all.zc",cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(a){if(0==a.data.length)toastr.error("\u6682\u672a\u914d\u7f6e\u914d\u4ef6\u4fe1\u606f\uff0c\u53ef\u524d\u5f80\u914d\u7f6e\uff01");else{for(var b=0;b<a.data.length;b++)$("#"+a.data[b].type).append("<input class='check_aero' type='checkbox' name='"+a.data[b].name+"' alt='"+a.data[b].type+"' >&nbsp;"+a.data[b].name+"&nbsp;&nbsp;&nbsp;");H()}},error:function(){toastr.error("\u83b7\u53d6\u914d\u4ef6\u4fe1\u606f\u5931\u8d25,\u8bf7\u5237\u65b0\u91cd\u8bd5\uff01")}})}
function M(){y.on("click",function(){if(null==g.val())toastr.error("\u6682\u672a\u914d\u7f6e\u6750\u6599\u7c7b\u578b\u4fe1\u606f\uff0c\u8bf7\u524d\u5f80\u914d\u7f6e\uff01");else{var a,b,d,e;a=D.is(":checked")?"\u70eb\u91d1":"\u4e0d\u70eb\u91d1";b=B.is(":checked")?"\u8986\u819c":"\u4e0d\u8986\u819c";C.is(":checked")?(d="\u5370\u5237",e=f.val()):(d="\u4e0d\u5370\u5237",e="-");null==e?toastr.error("\u6682\u672a\u914d\u7f6e\u5370\u5237\u65b9\u5f0f\u4fe1\u606f\uff0c\u8bf7\u524d\u5f80\u914d\u7f6e\uff01"):
(a={pt:z.val().trim(),st:g.val().trim(),sut:A.val().trim(),btangjin:a,bfilm:b,bpress:d,presstype:e},c.push(a),h.DataTable({destroy:!0,data:c,columns:E}),N())}})}function N(){h.on("click","a#delrow",function(a){a.preventDefault;var b=h.DataTable().row($(this).parents("tr")).data();swal({title:"\u63d0\u793a",text:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u6761\u8bb0\u5f55\u5417?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"\u786e\u5b9a\u5220\u9664",cancelButtonText:"\u53d6\u6d88"},
function(a){if(a){for(a=0;a<c.length;a++)if(c[a].pt==b.pt&&c[a].st==b.st&&c[a].sut==b.sut&&c[a].btangjin==b.btangjin&&c[a].bfilm==b.bfilm&&c[a].bpress==b.bpress&&c[a].presstype==b.presstype){c.splice(a,1);break}h.DataTable({destroy:!0,data:c,columns:E})}})})}function O(){x.on("click",function(){if(isNull(p.val().trim()))toastr.error("\u76d2\u76d6\u957f\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01");else if(isInt(p.val().trim()))if(isNull(q.val().trim()))toastr.error("\u76d2\u76d6\u5bbd\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01");
else if(isInt(q.val().trim()))if(isNull(r.val().trim()))toastr.error("\u76d2\u76d6\u9ad8\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01");else if(isInt(r.val().trim()))if(isNull(u.val().trim()))toastr.error("\u76d2\u5e95\u957f\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01");else if(isInt(u.val().trim()))if(isNull(v.val().trim()))toastr.error("\u76d2\u5e95\u5bbd\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01");else if(isInt(v.val().trim()))if(isNull(w.val().trim()))toastr.error("\u76d2\u5e95\u9ad8\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01");
else if(isInt(w.val().trim()))if(isNull(t.val().trim()))toastr.error("\u6570\u91cf\u4e0d\u80fd\u4e3a\u7a7a\uff01");else if(isInt(t.val().trim())){for(var a=[],b=0;b<c.length;b++){var d=1;"\u793c\u54c1\u76d2(\u76d6)"==c[b].pt?d=1:"\u793c\u54c1\u76d2(\u5e95)"==c[b].pt&&(d=2);var f=0;"\u7070\u677f"==c[b].sut?f=0:"\u5305\u7eb8"==c[b].sut&&(f=1);var g=!1;"\u70eb\u91d1"==c[b].btangjin&&(g=!0);var h=!1;"\u8986\u819c"==c[b].bfilm&&(h=!0);var k=!1;"\u5370\u5237"==c[b].bpress&&(k=!0);var l=1==d?parseInt(p.val().trim()):
parseInt(u.val().trim()),m=1==d?parseInt(q.val().trim()):parseInt(v.val().trim()),n=1==d?parseInt(r.val().trim()):parseInt(w.val().trim()),d={l:l,w:m,h:n,producttype:parseInt(d),sourcetype:c[b].st.trim(),sourceusetype:parseInt(f),btangjin:g,bfilm:h,bpress:k,presstype:c[b].presstype.trim()};a.push(d)}d=[];for(b=0;b<e.length;b++)d.push(e[b][0]);a={count:parseInt(t.val().trim()),source:a,parts:d};$.ajax({type:"POST",url:"calculate-price.zc",cache:!1,data:JSON.stringify(a),dataType:"json",success:function(a){$("#input_total_price").val(a.totalprice);
$("#input_single_price").val(a.price);$("#log_table").DataTable({ordering:!1,destroy:!0,data:a.log,createdRow:function(a,b,c){"\u9519\u8bef"==b[0]?$("td",a).css("color","#f00"):"\u9700\u6c42"==b[0]?$("td",a).css("color","#8080C0"):"\u6750\u6599"==b[0]?$("td",a).css("color","#00B271"):"\u5370\u5237"==b[0]?$("td",a).css("color","#479AC7"):"\u8986\u819c"==b[0]?$("td",a).css("color","#B45B3E"):"\u538b\u75d5"==b[0]&&$("td",a).css("color","#6699CC")}})},error:function(){toastr.error("\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u5931\u8d25,\u8bf7\u7a0d\u540e\u91cd\u8bd5\uff01")}})}else toastr.error("\u6570\u91cf\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01");
else toastr.error("\u76d2\u5e95\u9ad8\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01");else toastr.error("\u76d2\u5e95\u5bbd\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01");else toastr.error("\u76d2\u5e95\u957f\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01");else toastr.error("\u76d2\u76d6\u9ad8\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01");else toastr.error("\u76d2\u76d6\u5bbd\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01");else toastr.error("\u76d2\u76d6\u957f\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01")})}
var F={},P=$("#ui_body"),z=null,A=null,x=null,g=null,m=null,f=null,k=null,l=null,n=null,h=null,p=null,q=null,r=null,u=null,v=null,w=null,t=null,B=null,C=null,D=null,y=null,e=[],c=[],E=[{data:"pt"},{data:"st"},{data:"sut"},{data:"btangjin"},{data:"bfilm"},{data:"bpress"},{data:"presstype"},{data:null,className:"center",defaultContent:'<a id="delrow" href="#"><i class="fa fa-trash-o"></i>\u5220\u9664</a>'}];F.load=function(){P.html('<div class="col-md-12 col-sm-12 col-xs-12">\r\n                    <div class="x_panel">\r\n                        <div class="x_title">\r\n                            <h2>\u57fa\u7840\u4fe1\u606f <small>\u529f\u80fd\u63cf\u8ff0\uff1a\u901a\u8fc7\u6b64\u5904\u8f93\u5165\u57fa\u7840\u53c2\u6570\u4fe1\u606f\u3002</small></h2>\r\n                            <div class="clearfix"></div>\r\n                        </div>\r\n                        <div class="x_content">\r\n                            <div class="form-horizontal form-label-left">\r\n                                <div class="form-group">\r\n                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">\u6570\u91cf(\u4e2a)</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_count" type="text" class="form-control" placeholder="">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">\u76d2\u76d6\u957f(mm)</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_len" type="text" class="form-control" placeholder="">\r\n                                    </div>\r\n                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">\u76d2\u76d6\u5bbd(mm)</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_width" type="text" class="form-control" placeholder="">\r\n                                    </div>\r\n                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">\u76d2\u76d6\u9ad8(mm)</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_height" type="text" class="form-control" placeholder="">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">\u76d2\u5e95\u957f(mm)</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_len_x" type="text" class="form-control" placeholder="">\r\n                                    </div>\r\n                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">\u76d2\u5e95\u5bbd(mm)</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_width_x" type="text" class="form-control" placeholder="">\r\n                                    </div>\r\n                                    <label class="control-label col-md-2 col-sm-2 col-xs-12">\u76d2\u5e95\u9ad8(mm)</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_height_x" type="text" class="form-control" placeholder="">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-12 col-sm-12 col-xs-12">\r\n                    <div class="x_panel">\r\n                        <div class="x_title">\r\n                            <h2>\u6750\u6599\u9009\u62e9 <small>\u529f\u80fd\u63cf\u8ff0\uff1a\u901a\u8fc7\u6b64\u5904\u9009\u62e9\u6240\u9700\u6750\u6599\u3002</small></h2>\r\n                            <div class="clearfix"></div>\r\n                        </div>\r\n                        <div class="x_content">\r\n                            <div class="form-horizontal form-label-left">\r\n                                <div class = "form-group" > \r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u4ea7\u54c1\u7c7b\u578b</label>\r\n                                    <div class="col-md-3 col-sm-3 col-xs-12">\r\n                                        <select id="select_product_type" class="form-control">\r\n                                            <option>\u793c\u54c1\u76d2(\u76d6)</option>\r\n                                            <option>\u793c\u54c1\u76d2(\u5e95)</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u5236\u4f5c\u6750\u8d28</label>\r\n                                    <div class="col-md-3 col-sm-3 col-xs-12">\r\n                                        <select id="select_source_type" class="form-control">\r\n                                        </select>\r\n                                    </div>\r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u6750\u6599\u7528\u9014</label>\r\n                                    <div class="col-md-3 col-sm-3 col-xs-12">\r\n                                        <select id="select_sourceuser_type" class="form-control">\r\n                                            <option>\u7070\u677f</option>\r\n                                            <option>\u5305\u7eb8</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class = "form-group" > \r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u662f\u5426\u70eb\u91d1</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input class="check_green" type="checkbox" id="check_is_tangjin" checked="" required />\r\n                                    </div>\r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u662f\u5426\u8986\u819c</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input class="check_green" type="checkbox" id="check_is_film" checked="" required />\r\n                                    </div>\r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u662f\u5426\u5370\u5237</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input class="check_green" type="checkbox" id="check_is_press" checked="" required />\r\n                                    </div>\r\n                                    <label id="label_press_type" class="control-label col-md-1 col-sm-1 col-xs-12">\u5370\u5237\u65b9\u5f0f</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <select id="select_press_type" class="form-control">\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class = "form-group" > \r\n                                    <div class="col-md-1 col-sm-1 col-xs-12">\r\n                                        <button id = "submit_addsource" class = "btn btn-success" >\u589e\u52a0\u6750\u6599</button>\r\n                                    </div>\r\n                                </div>\r\n                                <div class = "form-group" > \r\n                                    <table id="selectsource_table" class="table table-striped table-bordered">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>\u4ea7\u54c1\u7c7b\u578b</th>\r\n                                                <th>\u6750\u6599\u79cd\u7c7b</th>\r\n                                                <th>\u6750\u6599\u7528\u9014</th>\r\n                                                <th>\u662f\u5426\u70eb\u91d1</th>\r\n                                                <th>\u662f\u5426\u8986\u819c</th>\r\n                                                <th>\u662f\u5426\u5370\u5237</th>\r\n                                                <th>\u5370\u5237\u65b9\u5f0f</th>\r\n                                                <th>\u64cd\u4f5c</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        </tbody>\r\n                                    </table>\r\n                                 </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-12 col-sm-12 col-xs-12">\r\n                    <div class="x_panel">\r\n                        <div class="x_title">\r\n                            <h2>\u914d\u4ef6\u9009\u62e9 <small>\u529f\u80fd\u63cf\u8ff0\uff1a\u901a\u8fc7\u6b64\u5904\u9009\u62e9\u6240\u9700\u914d\u4ef6\u3002</small></h2>\r\n                            <div class="clearfix"></div>\r\n                        </div>\r\n                        <div class="x_content">\r\n                            <div class="form-horizontal form-label-left">\r\n                                <div class = "form-group" > \r\n                                        <div class="tabbable tabs-below">\r\n                                    \u00a0       <ul class="nav nav-tabs" id="tab_part_type">\r\n                                            \u00a0\u00a0\u00a0 <li class="active"><a href="#\u6d4b\u8bd5" data-toggle="tab">Section 1</a></li>\r\n                                            \u00a0\u00a0\u00a0 <li><a href="#btab2" data-toggle="tab">Section 2</a></li>\r\n                                            \u00a0\u00a0\u00a0 <li><a href="#btab3" data-toggle="tab">Section 3</a></li>\r\n                                            \u00a0\u00a0\u00a0 <li><a href="#btab4" data-toggle="tab">Section 4</a></li>\r\n                                            \u00a0\u00a0\u00a0 <li><a href="#btab5" data-toggle="tab">Section 5</a></li>\r\n                                            \u00a0\u00a0\u00a0 <li><a href="#btab6" data-toggle="tab">Section 6</a></li>\r\n                                            \u00a0\u00a0\u00a0 <li><a href="#btab7" data-toggle="tab">Section 7</a></li>\r\n                                            \u00a0\u00a0\u00a0 <li><a href="#btab8" data-toggle="tab">Section 8</a></li>\r\n                                                <li><a href="#btab9" data-toggle="tab">Section 9</a></li>\r\n                                    \u00a0       </ul>\r\n                                            <div class="tab-content form-group" id="tab_part_content">\r\n                                \u00a0           </div>\r\n                                        </div>\r\n                                    <br>\r\n                                    <br>\r\n                                    <table id="selectpart_table" class="table table-striped table-bordered">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>\u914d\u4ef6\u540d\u79f0</th>\r\n                                                <th>\u914d\u4ef6\u7c7b\u522b</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-12 col-sm-12 col-xs-12">\r\n                    <div class="x_panel">\r\n                        <div class="x_title">\r\n                            <h2>\u8ba1\u7b97\u7ed3\u679c <small>\u529f\u80fd\u63cf\u8ff0\uff1a\u8ba1\u7b97\u5305\u88c5\u76d2\u7684\u62a5\u4ef7\u3002</small></h2>\r\n                            <div class="clearfix"></div>\r\n                        </div>\r\n                        <div class="x_content">\r\n                            <div class="form-horizontal form-label-left">\r\n                                <div class = "form-group" > \r\n                                    <div class = "col-md-6 col-sm-6 col-xs-12" >\r\n                                        <button id = "submit_count" class = "btn btn-danger" >&nbsp;&nbsp;&nbsp;&nbsp;\u8ba1&nbsp;&nbsp;\u7b97&nbsp;&nbsp;&nbsp;&nbsp;</button>\r\n                                    </div > \r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u603b\u4ef7</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_total_price" type="text" class="form-control" placeholder="" readonly>\r\n                                    </div>\r\n                                    <label class="control-label col-md-1 col-sm-1 col-xs-12">\u5355\u4ef7</label>\r\n                                    <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                        <input id="input_single_price" type="text" class="form-control" placeholder="" readonly>\r\n                                    </div>\r\n                                </div>\r\n                                <div class = "form-group" > \r\n                                    <div class = "col-md-12 col-sm-12 col-xs-12" >\r\n                                        <table id="log_table" class="table table-striped table-bordered">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>\u7c7b\u578b</th>\r\n                                                    <th>\u65e5\u5fd7</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                        </table>\r\n                                    </div > \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>');
G();I();J();K();L();M();O()};return F}},g_oBoxCalculate=UIBoxCalculate.createNew();