var UIMoreruleConfig={createNew:function(){function g(){d.dataTable({destroy:!0,ajax:function(e,f,b){$.ajax({type:"POST",url:"morerule-all.zc",cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(b){var a={};a.draw=e.draw;a.recordsTotal=b.recordsTotal;a.recordsFiltered=b.recordsFiltered;a.data=b.data;f(a)}})},columns:n})}function p(){h.on("click",function(){var e;isNull(b.val().trim())?toastr.error("\u5f00\u59cb\u533a\u95f4\u4e0d\u80fd\u4e3a\u7a7a\uff01"):isInt(b.val().trim())?
isNull(a.val().trim())?toastr.error("\u7ed3\u675f\u533a\u95f4\u4e0d\u80fd\u4e3a\u7a7a\uff01"):isInt(a.val().trim())?isNull(c.val().trim())?toastr.error("\u51fa\u6570\u4e0d\u80fd\u4e3a\u7a7a\uff01"):isInt(c.val().trim())?(e={begin:parseInt(b.val().trim()),end:parseInt(a.val().trim()),count:parseInt(c.val().trim()),bpress:k.is(":checked"),btangjin:l.is(":checked")},$.ajax({type:"POST",url:"morerule-add.zc",contentType:"application/json;charset=utf-8",data:JSON.stringify(e),dataType:"json",success:function(f){0==
f.ok?(toastr.success("\u51fa\u6570\u89c4\u5219\u6dfb\u52a0\u6210\u529f"),g(),b.val(""),a.val(""),c.val("")):toastr.error("\u51fa\u6570\u89c4\u5219\u6dfb\u52a0\u5931\u8d25,"+f.errorinfo)},error:function(){toastr.error("\u51fa\u6570\u89c4\u5219\u6dfb\u52a0\u5931\u8d25,\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u53ca\u7f51\u7edc\u540e\u91cd\u8bd5\uff01")}})):toastr.error("\u51fa\u6570\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01"):toastr.error("\u7ed3\u675f\u533a\u95f4\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01"):
toastr.error("\u5f00\u59cb\u533a\u95f4\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01")})}function q(){d.on("click","a#delrow",function(a){a.preventDefault;var b=d.DataTable().row($(this).parents("tr")).data();swal({title:"\u63d0\u793a",text:"\u786e\u5b9a\u8981\u5220\u9664\u533a\u95f4["+b.range+"]\u5417?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"\u786e\u5b9a\u5220\u9664",cancelButtonText:"\u53d6\u6d88"},function(a){a&&$.ajax({url:"morerule-del.zc",type:"POST",
dataType:"json",data:JSON.stringify({condition:b.condition,range:b.range}),success:function(a){0==a.ok?(toastr.success("\u533a\u95f4["+b.range+"]\u5220\u9664\u6210\u529f"),g()):toastr.error("\u533a\u95f4["+b.range+"]\u5220\u9664\u5931\u8d25,"+a.errorinfo)},error:function(){toastr.error("\u51fa\u6570\u89c4\u5219\u5220\u9664\u5931\u8d25,\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u53ca\u7f51\u7edc\u540e\u91cd\u8bd5\uff01")}})})})}var m={},r=$("#ui_body"),d=void 0,h=void 0,b=void 0,a=void 0,c=void 0,l=null,
k=null,n=[{data:"condition"},{data:"range"},{data:"count"},{data:null,className:"center",defaultContent:'<a id="delrow" href="#"><i class="fa fa-trash-o"></i>\u5220\u9664</a>'}];m.load=function(){r.html('<div class="col-md-12 col-sm-12 col-xs-12">\r\n                <div class="x_panel">\r\n                    <div class="x_title">\r\n                    <h2>\u603b\u89c8 <small>\u51fa\u6570\u89c4\u5219</small></h2>\r\n                    <div class="clearfix"></div>\r\n                    </div>\r\n                    <div class="x_content">\r\n                    <p class="text-muted font-13 m-b-30">\r\n                        \u529f\u80fd\u63cf\u8ff0\uff1a\u6b64\u5904\u5c55\u793a\u4e86\u76ee\u524d\u6240\u6709\u7684\u51fa\u6570\u89c4\u5219\u4fe1\u606f\uff0c\u60a8\u53ef\u901a\u8fc7\u8be5\u9875\u9762\u8fdb\u884c\u4fee\u6539\u4e0e\u5220\u9664\u3002\r\n                    </p>\r\n                    <table id="table_morerule" class="table table-striped table-bordered">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>\u6761\u4ef6</th>\r\n                            <th>\u8303\u56f4</th>\r\n                            <th>\u51fa\u6570(\u4e2a)</th>\r\n                            <th>\u64cd\u4f5c</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        </tbody>\r\n                    </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-12 col-sm-12 col-xs-12">\r\n                <div class="x_panel">\r\n                    <div class="x_title">\r\n                        <h2>\u65b0\u589e <small>\u51fa\u6570\u89c4\u5219</small></h2>\r\n                        <div class="clearfix"></div>\r\n                    </div>\r\n                    <div class="x_content">\r\n                        <p class="text-muted font-13 m-b-30">\r\n                            \u529f\u80fd\u63cf\u8ff0\uff1a\u60a8\u53ef\u901a\u8fc7\u8be5\u9875\u9762\u65b0\u589e\u51fa\u6570\u89c4\u5219\u3002\r\n                        </p>\r\n                        <div class="form-horizontal form-label-left">\r\n                            <div class="form-group">\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u662f\u5426\u5370\u5237</label>\r\n                            <div class="col-md-1 col-sm-1 col-xs-12">\r\n                                <input class="check_green" type="checkbox" id="check_is_press" checked="" required />\r\n                            </div>\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u662f\u5426\u70eb\u91d1</label>\r\n                            <div class="col-md-1 col-sm-1 col-xs-12">\r\n                                <input class="check_green" type="checkbox" id="check_is_tangjin" checked="" required />\r\n                            </div>\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u8303\u56f4</label>\r\n                            <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                <input id="input_souce_begin" type="text" class="form-control" placeholder="">\r\n                            </div>\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">~</label>\r\n                            <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                <input id="input_souce_end" type="text" class="form-control" placeholder="">\r\n                            </div>\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u6570\u91cf(\u4e2a)</label>\r\n                            <div class="col-md-1 col-sm-1 col-xs-12">\r\n                                <input id="input_souce_count" type="text" class="form-control" placeholder="">\r\n                            </div>\r\n                            </div>\r\n                            <div class="ln_solid">\r\n                            </div>\r\n                            <div class="form-group">\r\n                            <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-1">\r\n                                <button id="submit_add_morerule" type="submit" class="btn btn-primary">\u65b0\u589e</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>');
d=$("#table_morerule");h=$("#submit_add_morerule");b=$("#input_souce_begin");a=$("#input_souce_end");c=$("#input_souce_count");l=$("#check_is_tangjin");k=$("#check_is_press");$(".check_green").iCheck({checkboxClass:"icheckbox_flat-green"});$(".icheckbox_flat-green").css("margin-top","8px");p();q();g()};return m}},g_oMoreruleConfig=UIMoreruleConfig.createNew();