var UIDieCutterConfig={createNew:function(){function h(){g.dataTable({destroy:!0,ajax:function(a,q,c){$.ajax({type:"POST",url:"diecutter-all.zc",cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(c){var b={};b.draw=a.draw;b.recordsTotal=c.recordsTotal;b.recordsFiltered=c.recordsFiltered;b.data=c.data;q(b)}})},columns:r})}function t(){k.on("click",function(){var a;isNull(c.val().trim())?toastr.error("\u957f\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01"):isInt(c.val().trim())?isNull(b.val().trim())?
toastr.error("\u5bbd\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01"):isInt(b.val().trim())?isNull(d.val().trim())?toastr.error("\u9ad8\u5ea6\u4e0d\u80fd\u4e3a\u7a7a\uff01"):isInt(d.val().trim())?(a={producttype:l.val().trim(),l:parseInt(c.val().trim()),w:parseInt(b.val().trim()),h:parseInt(d.val().trim())},$.ajax({type:"POST",url:"diecutter-add.zc",contentType:"application/json;charset=utf-8",data:JSON.stringify(a),dataType:"json",success:function(a){0==a.ok?(toastr.success("\u65b0\u5200\u6a21\u89c4\u683c\u6dfb\u52a0\u6210\u529f"),
h(),c.val(""),b.val(""),d.val("")):toastr.error("\u65b0\u5200\u6a21\u89c4\u683c\u6dfb\u52a0\u5931\u8d25,"+a.errorinfo)},error:function(){toastr.error("\u5200\u6a21\u89c4\u683c\u6dfb\u52a0\u5931\u8d25,\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u53ca\u7f51\u7edc\u540e\u91cd\u8bd5\uff01")}})):toastr.error("\u9ad8\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01"):toastr.error("\u5bbd\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01"):toastr.error("\u957f\u5ea6\u4ec5\u80fd\u8f93\u5165\u6570\u5b57\uff01")})}function u(){g.on("click",
"a#delrow",function(a){a.preventDefault;var b=g.DataTable().row($(this).parents("tr")).data();swal({title:"\u63d0\u793a",text:"\u786e\u5b9a\u8981\u5220\u9664\u5200\u6a21\u89c4\u683c["+b.type+"]\u5417?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"\u786e\u5b9a\u5220\u9664",cancelButtonText:"\u53d6\u6d88"},function(a){a&&$.ajax({url:"diecutter-del.zc",type:"POST",dataType:"json",data:JSON.stringify({producttype:b.producttype,type:b.type}),success:function(a){0==
a.ok?(toastr.success("\u5200\u6a21\u89c4\u683c["+b.type+"]\u5220\u9664\u6210\u529f"),h()):toastr.error("\u5200\u6a21\u89c4\u683c["+b.type+"]\u5220\u9664\u5931\u8d25,"+a.errorinfo)},error:function(){toastr.error("\u5200\u6a21\u89c4\u683c\u5220\u9664\u5931\u8d25,\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u53ca\u7f51\u7edc\u540e\u91cd\u8bd5\uff01")}})})})}function m(){$.ajax({type:"POST",url:"diecutter-getprice.zc",cache:!1,data:JSON.stringify("{'get':'all'}"),dataType:"json",success:function(a){e.val(a.price);
f.val(a.boxprice)},error:function(){toastr.error("\u83b7\u53d6\u5200\u6a21\u4ef7\u683c\u5931\u8d25,\u8bf7\u5237\u65b0\u91cd\u8bd5\uff01")}})}function v(){n.on("click",function(){if(isNull(e.val().trim()))toastr.error("\u624b\u63d0\u888b\u5200\u6a21\u5355\u4ef7\u4e0d\u80fd\u4e3a\u7a7a\uff01");else if(isPrice(e.val().trim()))if(isNull(f.val().trim()))toastr.error("\u5305\u88c5\u76d2\u5200\u6a21\u5355\u4ef7\u4e0d\u80fd\u4e3a\u7a7a\uff01");else if(isPrice(f.val().trim())){var a={price:parseFloat(e.val().trim()),
boxprice:parseFloat(f.val().trim())};$.ajax({type:"POST",url:"diecutter-setprice.zc",cache:!1,data:JSON.stringify(a),dataType:"json",success:function(a){toastr.success("\u65b0\u5200\u6a21\u5355\u4ef7\u8bbe\u7f6e\u6210\u529f");m()},error:function(){toastr.error("\u65b0\u5200\u6a21\u5355\u4ef7\u8bbe\u7f6e\u5931\u8d25,\u8bf7\u5237\u65b0\u91cd\u8bd5\uff01")}})}else toastr.error("\u5305\u88c5\u76d2\u5200\u6a21\u4ef7\u683c\u4e0d\u5408\u6cd5\uff0c\u4ec5\u80fd\u7cbe\u786e\u5230\u5c0f\u6570\u70b9\u540e\u4e24\u4f4d\uff01");
else toastr.error("\u624b\u63d0\u888b\u5200\u6a21\u4ef7\u683c\u4e0d\u5408\u6cd5\uff0c\u4ec5\u80fd\u7cbe\u786e\u5230\u5c0f\u6570\u70b9\u540e\u4e24\u4f4d\uff01")})}var p={},w=$("#ui_body"),g=void 0,k=void 0,n=void 0,l=void 0,c=void 0,b=void 0,d=void 0,e=void 0,f=void 0,r=[{data:"producttype"},{data:"type"},{data:null,className:"center",defaultContent:'<a id="delrow" href="#"><i class="fa fa-trash-o"></i>\u5220\u9664</a>'}];p.load=function(){w.html('<div class="col-md-12 col-sm-12 col-xs-12">\r\n                <div class="x_panel">\r\n                    <div class="x_title">\r\n                        <h2>\u603b\u89c8 <small>\u5200\u6a21\u89c4\u683c</small></h2>\r\n                        <div class="clearfix"></div>\r\n                    </div>\r\n                    <div class="x_content">\r\n                        <p class="text-muted font-13 m-b-30">\r\n                            \u529f\u80fd\u63cf\u8ff0\uff1a\u6b64\u5904\u5c55\u793a\u4e86\u76ee\u524d\u6240\u6709\u7684\u5200\u6a21\u89c4\u683c\u4fe1\u606f\uff0c\u60a8\u53ef\u901a\u8fc7\u8be5\u9875\u9762\u8fdb\u884c\u4fee\u6539\u4e0e\u5220\u9664\u3002\r\n                        </p>\r\n                        <table id="table_diecutter" class="table table-striped table-bordered">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\u5200\u6a21\u7c7b\u578b</th>\r\n                                    <th>\u5200\u6a21\u89c4\u683c</th>\r\n                                    <th>\u64cd\u4f5c</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-12 col-sm-12 col-xs-12">\r\n                <div class="x_panel">\r\n                    <div class="x_title">\r\n                        <h2>\u65b0\u589e <small>\u5200\u6a21\u89c4\u683c</small></h2>\r\n                        <div class="clearfix"></div>\r\n                    </div>\r\n                    <div class="x_content">\r\n                        <p class="text-muted font-13 m-b-30">\r\n                            \u529f\u80fd\u63cf\u8ff0\uff1a\u60a8\u53ef\u901a\u8fc7\u8be5\u9875\u9762\u65b0\u589e\u5200\u6a21\u89c4\u683c\u3002\r\n                        </p>\r\n                        <div class="form-horizontal form-label-left">\r\n                            <div class="form-group">\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u5200\u6a21\u7c7b\u578b</label>\r\n                            <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                <select id="select_type" class="form-control">\r\n                                    <option>\u624b\u63d0\u888b</option>\r\n                                    <option>\u793c\u54c1\u76d2</option>\r\n                                </select>\r\n                            </div>\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u957f(mm)</label>\r\n                            <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                <input id="input_diecutter_len" type="text" class="form-control" placeholder="">\r\n                            </div>\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u5bbd(mm)</label>\r\n                            <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                <input id="input_diecutter_width" type="text" class="form-control" placeholder="">\r\n                            </div>\r\n                            <label class="control-label col-md-1 col-sm-1 col-xs-12">\u9ad8(mm)</label>\r\n                            <div class="col-md-2 col-sm-2 col-xs-12">\r\n                                <input id="input_diecutter_height" type="text" class="form-control" placeholder="">\r\n                            </div>\r\n                            </div>\r\n                            <div class="ln_solid">\r\n                            </div>\r\n                            <div class="form-group">\r\n                            <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-1">\r\n                                <button id="submit_add_diecutter" class="btn btn-primary">\u65b0\u589e</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-12 col-sm-12 col-xs-12">\r\n                <div class="x_panel">\r\n                    <div class="x_title">\r\n                        <h2>\u5b9a\u4ef7 <small>\u5200\u6a21\u89c4\u683c</small></h2>\r\n                        <div class="clearfix"></div>\r\n                    </div>\r\n                    <div class="x_content">\r\n                        <p class="text-muted font-13 m-b-30">\r\n                            \u529f\u80fd\u63cf\u8ff0\uff1a\u6b64\u5904\u7528\u6765\u8bbe\u7f6e\u4fee\u6539\u5200\u6a21\u7684\u6210\u672c\u4ef7\u3002\r\n                        </p>\r\n                        <div class="form-horizontal form-label-left">\r\n                            <div class="form-group">\r\n                                <label class="control-label col-md-2 col-sm-2 col-xs-12">\u624b\u63d0\u888b\u5200\u6a21\u5355\u4ef7(\u5143)</label>\r\n                                <div class="col-md-4 col-sm-4 col-xs-12">\r\n                                    <input id="input_diecutter_price" type="text" class="form-control" placeholder="">\r\n                                </div>\r\n                                <label class="control-label col-md-2 col-sm-2 col-xs-12">\u5305\u88c5\u76d2\u5200\u6a21\u5355\u4ef7(\u5143)</label>\r\n                                <div class="col-md-4 col-sm-5 col-xs-12">\r\n                                    <input id="input_diecutter_price_box" type="text" class="form-control" placeholder="">\r\n                                </div>\r\n                            </div>\r\n                        <div class="ln_solid">\r\n                        </div>\r\n                        <div class="form-group">\r\n                        <div class="col-md-9 col-sm-9 col-xs-12 col-md-offset-1">\r\n                            <button id="submit_set_diecutterprice" class="btn btn-primary">\u8bbe\u7f6e</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>');
g=$("#table_diecutter");k=$("#submit_add_diecutter");n=$("#submit_set_diecutterprice");l=$("#select_type");c=$("#input_diecutter_len");b=$("#input_diecutter_width");d=$("#input_diecutter_height");e=$("#input_diecutter_price");f=$("#input_diecutter_price_box");v();t();u();h();m()};return p}},g_oDieCutterConfig=UIDieCutterConfig.createNew();