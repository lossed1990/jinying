var UIOrderSearch={createNew:function(){function t(){o.html('<div class="col-md-12 col-sm-12 col-xs-12">                    <div class="x_panel">                        <div class="x_title">                            <h2>总览 <small>订单</small></h2>                            <div class="clearfix"></div>                        </div>                        <div class="x_content">                            <p class="text-muted font-13 m-b-30">                            功能描述：此处展示了目前所有的订单信息，您可通过该页面进行修改与删除。                            </p>                            <div class="form-horizontal form-label-left">                                <div class="form-group">                                    <div class="col-md-12 col-sm-12 col-xs-12" id="search-date-div">                                        <input type="text" id="search-date-picker" class="form-control">                                        <i class="glyphicon glyphicon-calendar fa fa-calendar" id="search-date-div-btn"></i>                                    </div>                                </div>                            </div>                            <br />                            <table id="table_source" class="table table-striped table-bordered">                            <thead>                                <tr>                                <th>编号</th>                                <th>客户名称</th>                                <th>销售人员</th>                                <th>计算价</th>                                <th>订单价</th>                                <th>保存时间</th>                                <th>订单操作</th>                                </tr>                            </thead>                            <tbody>                            </tbody>                            </table>                        </div>                    </div>                </div>                <div class="col-md-12 col-sm-12 col-xs-12">                    <div class="x_panel">                        <div class="x_title">                            <h2>生成 <small>订单</small></h2>                            <div class="clearfix"></div>                        </div>                        <div class="x_content">                            <p class="text-muted font-13 m-b-30">                                功能描述：您可通过此处生成订单。                            </p>                        </div>                    </div>                </div>'),s=$("#table_source"),function(){$("#search-date-div-btn").click(function(){$("#search-date-picker").click()});var t={};t.autoApply=!0,t.maxDate=moment(),t.showDropdowns=!0,t.dateLimit={days:90},t.ranges={"今天":[moment(),moment()],"昨天":[moment().subtract(1,"days"),moment().subtract(1,"days")],"最近7天":[moment().subtract(6,"days"),moment()],"最近30天":[moment().subtract(29,"days"),moment()],"本月":[moment().startOf("month"),moment().endOf("month")],"上月":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},t.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"确定",cancelLabel:"取消",fromLabel:"开始日期",toLabel:"结束日期",customRangeLabel:"自定义",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1},$("#search-date-picker").daterangepicker(t,function(t,r,o){e={user:$("#welcome_tip").html().trim(),begin:t.format("YYYY-MM-DD HH:mm:ss"),end:r.format("YYYY-MM-DD HH:mm:ss")},a()})}(),e={user:$("#welcome_tip").html().trim(),begin:moment().format("YYYY-MM-DD")+" 00:00:00",end:moment().format("YYYY-MM-DD")+" 23:59:59"},a(),s.on("click","a#showcondition",function(t){t.preventDefault;var a=s.DataTable().row($(this).parents("tr")).data(),e={id:a.id};$.ajax({url:c,type:"POST",dataType:"json",data:JSON.stringify(e),success:function(t){if(0==t.ok){var a=JSON.parse(t.condition);a.source.length>0?0==a.source[0].producttype?g_oReticuleCalculate.loadByParam(t.condition):g_oBoxCalculate.loadByParam(t.condition):toastr.error("订单未选择制作材料，无法查看详情！")}else toastr.error(t.errorinfo)},error:function(){toastr.error("获取详情信息失败,请检查服务器及网络后重试！")}})}),s.on("click","a#delrow",function(t){t.preventDefault;var e=s.DataTable().row($(this).parents("tr")).data();swal({title:"提示",text:"确定要删除本条订单吗?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定删除",cancelButtonText:"取消"},function(t){if(t){var r={id:e.id};$.ajax({url:i,type:"POST",dataType:"json",data:JSON.stringify(r),success:function(t){0==t.ok?(toastr.success("订单删除成功"),a()):toastr.error(t.errorinfo)},error:function(){toastr.error("删除订单信息失败,请检查服务器及网络后重试！")}})}})})}function a(){s.dataTable({destroy:!0,ajax:function(t,a,r){$.ajax({type:"POST",url:n,cache:!1,data:JSON.stringify(e),dataType:"json",success:function(e){var r={};r.draw=t.draw,r.recordsTotal=e.recordsTotal,r.recordsFiltered=e.recordsFiltered,r.data=e.data,a(r)}})},columns:d})}var e,r={},o=$("#ui_body"),s=void 0,n="order-get.zc",c="order-getcondition.zc",i="order-del.zc",d=[{data:"id"},{data:"customername"},{data:"userrname"},{data:"price"},{data:"finalprice"},{data:"time"},{data:null,className:"center",defaultContent:'<a id="showcondition" href="#"><i class="fa fa-file-text-o"></i>重算</a>&nbsp;&nbsp;<a id="neworder" href="#"><i class="fa fa-paper-plane-o"></i>下单</a>&nbsp;&nbsp;<a id="delrow" href="#"><i class="fa fa-trash-o"></i>删除</a>'}];return r.load=function(){t()},r}},g_oOrderSearch=UIOrderSearch.createNew();